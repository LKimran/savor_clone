import{_ as me,a9 as J,l as Te,L as ge,i as ye,aa as u,r as e,m as q,q as we,p as $e,o as re,a as ie,b as x,c as O,d as o,A as c,u as t,B as ze,y as l,f as ae,ab as Z,ac as Le,ad as Oe,ae as Ee,j as Se,af as De,n as Me,I as Ie,F as xe,t as be,z as p,x as d,ag as Be,ah as Fe,H as Ne,s as se,Z as We,ai as ke,aj as Pe,ak as he,al as qe,g as je,am as Ge,an as Ve,ao as He,ap as Ue,aq as Ye,ar as Xe,as as Ze}from"./app-BTzxv8rx.js";const Je=["data-nav-color"],Ke={class:"StoryCanvasOutro-inner"},Qe={class:"StoryCanvasOutro-img-proxy-wrap"},et={class:"StoryCanvasOutro-title"},tt={class:"sr-only"},ot={class:"StoryCanvasOutro-rive-wrap"},st={class:"StoryCanvasOutro-text-wrap"},nt={__name:"StoryCanvasOutroDesktop",props:{outroProgress:{default:0},entrypointMask:{type:Object,required:!0,default:()=>({_type:"",vueType:"",pageTitle:"",pageSlug:"",title:"",blockIndex:1,cascadeColor:J.DEFAULT})}},setup(f,{expose:S}){const k=f,{gsap:m}=Te(),$=ge();ye();const M=u.entrypointMask.desktop.rive,w={decel:.5,accel:.15,maxSpeed:.025},b=new Le(w),h=e(null),r=e(null),a=e(null),C=e(null),y=e(null);let v;const B=e(0);function F(){const{ratio:s}=a.value.getInfo();B.value=s}const R=q(()=>{const s=k.entrypointMask;return`${s.title1} ${s.title2}`});function T(){if(!k.entrypointMask.cta)return null;const s=k.entrypointMask.cta;return $.prepLink(s)||null}function L(){if(!T())return null;const s=T(),[g,D]=s.label?s.label.split(" "):[null,null],E=s.to;return{labelLeft:g||"",labelRight:D||"",to:E}}function i(){if(v==null||v.kill(),!C.value)return;const s=[C.value,y.value].filter(g=>g!==null);v=new m.timeline({paused:!0}),v.fromTo(s,{opacity:0},{opacity:1,duration:.3,stagger:.1,delay:.2,ease:"none"})}function n(){const s=b.update(k.outroProgress),g=a.value;g==null||g.progress(s),v==null||v.progress(s)}return we(()=>{n()}),$e(()=>{i()}),re(()=>{setTimeout(()=>{b.set(0),i()},50)}),ie(()=>{v==null||v.kill()}),S({outroImgProxyRef:r}),(s,g)=>{var I,z,A;const D=Oe,E=Ee;return x(),O("div",{class:"StoryCanvasOutro","data-nav-color":t(Z).BROWN},[o("div",{ref_key:"outroRef",ref:h,class:"StoryCanvasOutro-container"},[o("div",Ke,[o("div",Qe,[o("div",{ref_key:"outroImgProxyRef",ref:r,class:"StoryCanvasOutro-img-proxy"},null,512)]),o("h3",et,[o("span",tt,c(t(R)),1),o("div",ot,[o("div",{class:"StoryCanvasOutro-rive",style:ze({"aspect-ratio":t(B)})},[l(D,{ref_key:"outroRivePlayerRef",ref:a,"src-all":t(M),"log-instance":!1,autoplay:!1,onLoad:F},null,8,["src-all"])],4)])]),o("div",st,[o("p",{ref_key:"outroDescRef",ref:C,class:"StoryCanvasOutro-desc"},c(f.entrypointMask.subtitle),513),f.entrypointMask.cta?(x(),O("div",{key:0,ref_key:"outroButtonRef",ref:y,class:"StoryCanvasOutro-btn-wrap"},[l(E,{"label-left":(I=L())==null?void 0:I.labelLeft,"label-right":(z=L())==null?void 0:z.labelRight,to:(A=L())==null?void 0:A.to,theme:"grey"},null,8,["label-left","label-right","to"])],512)):ae("",!0)])])],512)],8,Je)}}},lt=me(nt,[["__scopeId","data-v-45c03497"]]);function Ae(f,S){return`M${f} 0
          C${f} ${S*.1697} ${f*.8795} ${S*.2488} ${f*.4927} ${S*.4232}
          C${f*.0606} ${S*.618} 0 ${S*.8095} 0 ${S}
         `}const _={__name:"HomePageTextRevealLineMask",props:{mode:{type:String,required:!1,default:"LETTER"},isSplitOnMounted:{type:Boolean,required:!1,default:!0},killOnComplete:{type:Boolean,required:!1,default:!1},duration:{type:Number,required:!1,default:.5},stagger:{type:Number,required:!1,default:1/120},direction:{type:String,required:!1,default:"fromBottom"}},setup(f,{expose:S}){const k=f,m={NONE:"NONE",WORD:"WORD",LETTER:"LETTER"},{gsap:$,SplitText:M}=Te(),w=q(()=>({[m.NONE]:null,[m.WORD]:"lines,words",[m.LETTER]:"lines,words,chars"})[k.mode]||null),b=q(()=>({[m.NONE]:null,[m.WORD]:"words",[m.LETTER]:"chars"})[k.mode]||null),h=e(null),r=e(!1),a=e(!1);let C=null,y,v=null,B=!1;const F=e(0);Se(F,n=>{y&&y.progress(n)});function R(n=!0){var g;const s=h.value;if(clearTimeout(v),n||(y==null||y.kill(),C=null,y=null),n){if(!s){a.value&&(v=setTimeout(()=>R(!0),200));return}if(k.mode===m.NONE){r.value=!0;return}if(!C){if(R(!1),C=new M(s,{type:w.value,linesClass:"HomepageTextRevealLineMask-lineparent",tag:"div",reduceWhiteSpace:!1}),!((g=C[b.value])!=null&&g.length)){R(!1),v=setTimeout(()=>R(!0),200);return}L(),r.value=!0}}}function T(){B=!1,k.killOnComplete&&R(!1)}function L(){if(!h.value||!k.mode===m.NONE)return;const s=C[b.value];if(s.length<1)return;const g=s[0].getBoundingClientRect().height;y==null||y.kill(),$.set(s,{opacity:0}),y=$.timeline({paused:!0,onComplete:T}),y.set(s,{opacity:0,y:k.direction==="fromBottom"?g:-g,z:.1},0),s.forEach((D,E)=>{const I=E*k.stagger,z=k.duration;y.to(D,{duration:z,ease:"Power2.easeOut",opacity:1,y:0},I)}),B&&(y==null||y.restart())}function i(){return(y==null?void 0:y.duration())||0}return Se(()=>a.value&&h.value,n=>{n&&k.isSplitOnMounted&&(v=setTimeout(()=>{R(!0)},50))},{immediate:!0}),re(()=>{r.value=!1,a.value=!0}),ie(()=>{a.value=!1,R(!1)}),S({getDuration:i,timelineProgress:F}),(n,s)=>(x(),O("div",{ref_key:"textRevealRef",ref:h,class:Me(["HomepageTextRevealLineMask",{revealReady:t(r)}])},[De(n.$slots,"default")],2))}},at={class:"StoryCanvasDesktop-bubble"},rt=["data-nav-color"],it=["src","alt"],ct=["src","alt"],ut={class:"StoryPoetic"},ft={class:"StoryPoetic-outer"},pt={class:"StoryPoetic-1"},dt={class:"StoryPoetic-1a"},_t={class:"StoryPoetic-1b"},yt={class:"StoryPoetic-svg",viewBox:"0 0 174 2",fill:"none",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMinYMid"},vt={class:"StoryPoetic-2"},mt={class:"StoryPoetic-3"},gt={class:"StoryPoetic-3a"},Rt={class:"StoryPoetic-svg",viewBox:"0 0 243 243",fill:"none",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none"},kt={class:"StoryPoetic-3b"},ht={class:"StoryPoetic-5"},xt={class:"StoryPoetic-6a"},Tt=["viewBox"],St=["d"],bt={id:"dotted-line-mask"},Ct=["d"],Pt={class:"StoryPoetic-7"},$t={class:"StoryPoetic-7a"},Mt={class:"StoryPoetic-7b"},wt={class:"StoryPoetic-7c"},zt={__name:"StoryCanvasDesktop",props:{outroProgress:{default:0},storyCanvas:{type:Object,required:!0,default:()=>({_type:"",vueType:"",pageTitle:"",pageSlug:"",title:"",blockIndex:1,cascadeColor:J.DEFAULT})},entrypointMask:{type:Object,required:!0,default:()=>({_type:"",vueType:"",pageTitle:"",pageSlug:"",title:"",blockIndex:1,cascadeColor:J.DEFAULT})}},setup(f,{expose:S}){const k=ge(),m=ye(),{isTabletBreakpoint:$}=Ie(m),M=e(null),w=e(null),b=e(null),h=[],r=[],a=e(null),C=e(null),y=e(null),v=e(null),B=e(null),F=e(null),R=e(null),T=e(null),L=e(null),i=e(null),n=e(null),s=e(null),g=e(null),D=e(null),E=e(null),I=e(null),z=e(null),A=e(null),H=e(null),U=e(null),K=e(null),P=e(null),W=e(null),N=e(null),V=e(null),j=e(null),Q=e(null),Y=q(()=>[{el:T.value,time:0},{el:L.value,time:1},{el:i.value,time:2},{el:n.value,time:2.4},{el:s.value,time:4.25},{el:g.value,time:4.4},{el:D.value,time:4.55},{el:E.value,time:4.7},{el:I.value,time:4.85},{el:z.value,time:5},{el:A.value,time:7.5},{el:U.value,time:8.2},{el:K.value,time:8.35},{el:P.value,time:8.5},{el:W.value,time:8.65},{el:N.value,time:8.8},{el:j.value,time:8.95},{el:H.value,time:9.45},{el:V.value,time:9.5},{el:Q.value,time:9.8}]),ee=q(()=>[{el:B.value,time:.5},{el:F.value,time:1.4},{el:R.value,time:8}]),ce=q(()=>[{el:h[0],time:0},{el:h[1],time:1},{el:h[2],time:2.3},{el:h[3],time:3.6},{el:h[4],time:7.6}]),te=q(()=>[{el:C,time:3},{el:C,time:5.5}]),oe=e(null),ue=e(0),fe=e(0),pe=e("");function ne(le){const Re={desktop:k.getWebP(le,2048),tablet:k.getWebP(le,1e3)},ve=$.value?Re.tablet:Re.desktop;return ve?{src:ve,alt:le.alt}:null}function de(){ue.value=oe.value.offsetWidth,fe.value=oe.value.offsetHeight,pe.value=Ae(ue.value,fe.value)}return re(()=>{setTimeout(()=>{de()},100),window.addEventListener("resize",de)}),ie(()=>{window.removeEventListener("resize",de)}),S({zoomRef:M,zoomPinRef:w,zoomImgWrapRef:b,outroRef:a,imgConfig:ce,maskImgRefs:r,scrollConfig:te,poeticPaneRef:C,poeticTextsConfig:Y,poeticLinesConfig:ee,poeticScrollRef1:y,poeticScrollRef2:v}),(le,Re)=>{const ve=Be,Ce=lt;return x(),O("div",{ref_key:"zoomRef",ref:M,class:"StoryCanvasDesktop"},[o("div",at,[l(ve)]),o("div",{ref_key:"zoomPinRef",ref:w,class:"StoryCanvasDesktop-pin"},[l(Ce,{ref_key:"outroRef",ref:a,"outro-progress":f.outroProgress,"entrypoint-mask":f.entrypointMask},null,8,["outro-progress","entrypoint-mask"]),o("div",{ref_key:"zoomImgWrapRef",ref:b,class:"StoryCanvasDesktop-imgwrap","data-nav-color":t(Z).BEIGE},[(x(!0),O(xe,null,be(f.storyCanvas.images,(X,G)=>(x(),O("img",{key:G,ref_for:!0,ref:_e=>h[G]=_e,src:ne(X).src,alt:ne(X).alt,class:Me(["StoryCanvasDesktop-img",`index${G}`])},null,10,it))),128)),(x(!0),O(xe,null,be(f.entrypointMask.images,(X,G)=>(x(),O("img",{key:G,ref_for:!0,ref:_e=>r[G]=_e,src:ne(X).src,alt:ne(X).alt,class:"StoryCanvasDesktop-img"},null,8,ct))),128))],8,rt),o("div",ut,[o("div",ft,[o("div",{ref_key:"poeticPaneRef",ref:C,class:"StoryPoetic-inner"},[o("div",pt,[o("div",dt,[l(_,{ref_key:"poeticTextRef1",ref:T},{default:p(()=>[d(c(t(u).zoom.text1),1)]),_:1},512)]),o("div",_t,[(x(),O("svg",yt,[o("path",{ref_key:"poeticLineRef1",ref:B,d:"M0 1.25002L174 1.25","vector-effect":"non-scaling-stroke"},null,512)]))])]),o("div",vt,[l(_,{ref_key:"poeticTextRef2",ref:L},{default:p(()=>[d(c(t(u).zoom.text2),1)]),_:1},512)]),o("div",mt,[o("div",gt,[(x(),O("svg",Rt,[o("path",{ref_key:"poeticLineRef2",ref:F,d:"M1 0C1.00001 133.653 109.347 242 243 242",stroke:"#FFF9EB","stroke-width":"1.5","vector-effect":"non-scaling-stroke"},null,512)]))]),o("span",kt,[l(_,{ref_key:"poeticTextRef3",ref:i},{default:p(()=>[d(c(t(u).zoom.text3),1)]),_:1},512),l(_,{ref_key:"poeticTextRef4",ref:n},{default:p(()=>[d(c(t(u).zoom.text4a)+" "+c(t(u).zoom.text4b),1)]),_:1},512)])]),o("div",{ref_key:"poeticScrollRef1",ref:y,class:"StoryPoetic-4"},[l(_,{ref_key:"poeticTextRef5a",ref:s},{default:p(()=>[d(c(t(u).zoom.text5a),1)]),_:1},512)],512),o("div",ht,[l(_,{ref_key:"poeticTextRef5b",ref:g},{default:p(()=>[d(c(t(u).zoom.text5b),1)]),_:1},512),l(_,{ref_key:"poeticTextRef5c",ref:D},{default:p(()=>[d(c(t(u).zoom.text5c),1)]),_:1},512),l(_,{ref_key:"poeticTextRef5d",ref:E},{default:p(()=>[d(c(t(u).zoom.text5d),1)]),_:1},512),l(_,{ref_key:"poeticTextRef5e",ref:I},{default:p(()=>[d(c(t(u).zoom.text5e),1)]),_:1},512),l(_,{ref_key:"poeticTextRef5f",ref:z},{default:p(()=>[d(c(t(u).zoom.text5f),1)]),_:1},512)]),o("div",{ref_key:"poeticScrollRef2",ref:v,class:"StoryPoetic-6"},[o("div",xt,[l(_,{ref_key:"poeticTextRef6",ref:A},{default:p(()=>[d(c(t(u).zoom.text6),1)]),_:1},512)]),o("div",{ref_key:"dottedLineContainer",ref:oe,class:"StoryPoetic-6b"},[(x(),O("svg",{class:"StoryPoetic-svg",viewBox:`0 0 ${t(ue)} ${t(fe)}`,fill:"none",xmlns:"http://www.w3.org/2000/svg"},[o("path",{mask:"url(#dotted-line-mask)",d:t(pe),"stroke-dasharray":"8 8"},null,8,St),o("defs",null,[o("mask",bt,[o("path",{ref_key:"poeticLineRef3Mask",ref:R,d:t(pe),stroke:"white",fill:"none","stroke-width":"5"},null,8,Ct)])])],8,Tt))],512),o("div",Pt,[o("div",$t,[l(_,{ref_key:"poeticTextRef7a",ref:H,direction:"fromTop"},{default:p(()=>[d(c(t(u).zoom.text7a),1)]),_:1},512)]),o("div",Mt,[l(_,{ref_key:"poeticTextRef7b",ref:U,direction:"fromTop"},{default:p(()=>[d(c(t(u).zoom.text7b),1)]),_:1},512),l(_,{ref_key:"poeticTextRef7c",ref:K,direction:"fromTop"},{default:p(()=>[d(c(t(u).zoom.text7c),1)]),_:1},512),l(_,{ref_key:"poeticTextRef7d",ref:P,direction:"fromTop"},{default:p(()=>[d(c(t(u).zoom.text7d),1)]),_:1},512),l(_,{ref_key:"poeticTextRef7e",ref:W,direction:"fromTop"},{default:p(()=>[d(c(t(u).zoom.text7e),1)]),_:1},512),l(_,{ref_key:"poeticTextRef7f",ref:N,direction:"fromTop"},{default:p(()=>[d(c(t(u).zoom.text7f),1)]),_:1},512),l(_,{ref_key:"poeticTextRef7g",ref:V,direction:"fromTop"},{default:p(()=>[d(c(t(u).zoom.text7g),1)]),_:1},512)]),o("div",wt,[l(_,{ref_key:"poeticTextRef7h",ref:j,direction:"fromTop"},{default:p(()=>[d(c(t(u).zoom.text7h),1)]),_:1},512),l(_,{ref_key:"poeticTextRef7i",ref:Q,direction:"fromTop"},{default:p(()=>[d(c(t(u).zoom.text7i),1)]),_:1},512)])])],512)],512)])])],512)],512)}}},Lt=me(zt,[["__scopeId","data-v-1ff30ea4"]]),Ot={class:"StoryCanvasOutroMobile-tail"},Et={__name:"StoryCanvasOutroMobileTail",props:{entrypointMask:{type:Object,required:!0,default:()=>({_type:"",vueType:"",pageTitle:"",pageSlug:"",title:"",blockIndex:1,cascadeColor:J.DEFAULT})}},setup(f){const S=f;Te();const k=ge();ye();const m=e(null),$=e(null);function M(){if(!S.entrypointMask.cta)return null;const b=S.entrypointMask.cta;return k.prepLink(b)||null}function w(){if(!M())return null;const b=M(),[h,r]=b.label?b.label.split(" "):[null,null],a=b.to;return{labelLeft:h||"",labelRight:r||"",to:a}}return re(()=>{}),ie(()=>{}),(b,h)=>{var a,C,y;const r=Ee;return x(),O("div",Ot,[o("p",{ref_key:"outroDescRef",ref:m,class:"StoryCanvasOutroMobile-desc"},c(f.entrypointMask.subtitle),513),f.entrypointMask.cta?(x(),O("div",{key:0,ref_key:"outroButtonRef",ref:$,class:"StoryCanvasOutroMobile-button-wrap"},[l(r,{"label-left":(a=w())==null?void 0:a.labelLeft,"label-right":(C=w())==null?void 0:C.labelRight,to:(y=w())==null?void 0:y.to,theme:"grey"},null,8,["label-left","label-right","to"])],512)):ae("",!0)])}}},It=me(Et,[["__scopeId","data-v-fc4d9fad"]]),Bt=["data-nav-color"],At={class:"StoryCanvasOutroMobile-img-proxy-wrap"},Dt={class:"StoryCanvasOutroMobile-title"},Ft={class:"sr-only"},Nt={__name:"StoryCanvasOutroMobile",props:{outroProgress:{default:0},entrypointMask:{type:Object,required:!0,default:()=>({_type:"",vueType:"",pageTitle:"",pageSlug:"",title:"",blockIndex:1,cascadeColor:J.DEFAULT})}},setup(f,{expose:S}){const k=f;Te(),ge(),ye();const m=u.entrypointMask.mobile.rive,$={decel:.5,accel:.15,maxSpeed:.025},M=new Le($),w=e(null),b=e(null),h=e(null),r=e(0);function a(){const{ratio:v}=h.value.getInfo();r.value=v}const C=q(()=>{const v=k.entrypointMask;return`${v.title} ${v.title2}`});function y(){const v=M.update(k.outroProgress),B=h.value;B==null||B.progress(v)}return we(()=>{y()}),$e(()=>{}),re(()=>{M.set(0)}),ie(()=>{}),S({outroImgProxyRef:b}),(v,B)=>{const F=Oe;return x(),O("div",{class:"StoryCanvasOutroMobile","data-nav-color":t(Z).BROWN},[o("div",{ref_key:"outroRef",ref:w,class:"StoryCanvasOutroMobile-container"},[o("div",At,[o("div",{ref_key:"outroImgProxyRef",ref:b,class:"StoryCanvasOutroMobile-img-proxy"},null,512)]),o("h3",Dt,[o("span",Ft,c(t(C)),1),o("div",{class:"StoryCanvasOutroMobile-rive",style:ze({"aspect-ratio":t(r)})},[l(F,{ref_key:"outroRivePlayerRef",ref:h,"src-all":t(m),"log-instance":!1,autoplay:!1,onLoad:a},null,8,["src-all"])],4)])],512)],8,Bt)}}},Wt=me(Nt,[["__scopeId","data-v-2ad796da"]]),qt={class:"StoryCanvasMobile-bubble"},jt=["data-nav-color"],Gt=["src","alt"],Vt=["src","alt"],Ht={class:"StoryPoetic"},Ut={class:"StoryPoetic-outer"},Yt={class:"StoryPoetic-1"},Xt={class:"StoryPoetic-1a"},Zt={class:"StoryPoetic-1b"},Jt={class:"StoryPoetic-svg",viewBox:"0 0 343 211",fill:"none",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMin"},Kt={class:"StoryPoetic-2"},Qt={class:"StoryPoetic-3"},eo={class:"StoryPoetic-3a"},to={class:"StoryPoetic-svg",viewBox:"0 0 343 290",fill:"none",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none"},oo={class:"StoryPoetic-3c"},so={class:"StoryPoetic-3d"},no={class:"StoryPoetic-4"},lo={class:"StoryPoetic-4b"},ao=["viewBox"],ro=["d"],io={id:"dotted-line-mask"},co=["d"],uo={class:"StoryPoetic-7"},fo={class:"StoryPoetic-7a"},po={class:"StoryPoetic-7b"},_o={class:"StoryPoetic-7c"},yo={class:"StoryPoetic-7d"},vo={class:"StoryPoetic-7e"},mo={__name:"StoryCanvasMobile",props:{outroProgress:{default:0},storyCanvas:{type:Object,required:!0,default:()=>({_type:"",vueType:"",pageTitle:"",pageSlug:"",title:"",blockIndex:1,cascadeColor:J.DEFAULT})},entrypointMask:{type:Object,required:!0,default:()=>({_type:"",vueType:"",pageTitle:"",pageSlug:"",title:"",blockIndex:1,cascadeColor:J.DEFAULT})}},setup(f,{expose:S}){const k=ge();ye();const m=e(null),$=e(null),M=e(null),w=[],b=[],h=e(null);e(null),e(null);const r=e(null),a=e(null),C=e(null),y=e(null),v=e(null),B=e(null),F=e(null),R=e(null),T=e(null),L=e(null),i=e(null),n=e(null),s=e(null),g=e(null),D=e(null),E=e(null),I=e(null),z=e(null),A=e(null),H=e(null),U=e(null),K=e(null),P=e(null),W=e(null),N=e(null),V=e(null),j=e(null),Q=q(()=>[{el:y.value,time:0},{el:v.value,time:1},{el:B.value,time:2},{el:F.value,time:2.6},{el:R.value,time:2.75},{el:T.value,time:4.25},{el:L.value,time:4.4},{el:i.value,time:4.55},{el:n.value,time:4.7},{el:s.value,time:4.85},{el:g.value,time:5},{el:D.value,time:7.5},{el:I.value,time:8.2},{el:z.value,time:8.35},{el:A.value,time:8.5},{el:H.value,time:8.65},{el:U.value,time:8.8},{el:P.value,time:8.95},{el:E.value,time:9.45},{el:K.value,time:9.5},{el:W.value,time:9.8}]),Y=q(()=>[{el:N.value,time:.5},{el:V.value,time:1.4},{el:j.value,time:8}]),ee=q(()=>[{el:w[0],time:0},{el:w[1],time:1},{el:w[2],time:2.3},{el:w[3],time:3.6},{el:w[4],time:7.6}]),ce=q(()=>[{el:r,time:1.5},{el:r,time:5.8}]);function te(de){const le=k.getWebP(de,720,1080);return le?{src:le,alt:de.alt}:null}S({zoomRef:m,zoomPinRef:$,zoomImgWrapRef:M,outroRef:h,imgConfig:ee,maskImgRefs:b,scrollConfig:ce,poeticPaneRef:r,poeticTextsConfig:Q,poeticLinesConfig:Y,poeticScrollRef1:a,poeticScrollRef2:C});const oe=e(null),ue=e(0),fe=e(0),pe=e("");function ne(){ue.value=oe.value.offsetWidth,fe.value=oe.value.offsetHeight,pe.value=Ae(ue.value,fe.value)}return re(()=>{setTimeout(()=>{ne()},100),window.addEventListener("resize",ne)}),ie(()=>{window.removeEventListener("resize",ne)}),(de,le)=>{const Re=Be,ve=Wt,Ce=It;return x(),O(xe,null,[o("div",{ref_key:"zoomRef",ref:m,class:"StoryCanvasMobile"},[o("div",qt,[l(Re)]),o("div",{ref_key:"zoomPinRef",ref:$,class:"StoryCanvasMobile-pin"},[l(ve,{ref_key:"outroRef",ref:h,"outro-progress":f.outroProgress,"entrypoint-mask":f.entrypointMask},null,8,["outro-progress","entrypoint-mask"]),o("div",{ref_key:"zoomImgWrapRef",ref:M,class:"StoryCanvasMobile-imgwrap","data-nav-color":t(Z).BEIGE},[(x(!0),O(xe,null,be(f.storyCanvas.images,(X,G)=>(x(),O("img",{key:G,ref_for:!0,ref:_e=>w[G]=_e,src:te(X).src,alt:te(X).alt,class:Me(["StoryCanvasMobile-img",`index${G}`])},null,10,Gt))),128)),(x(!0),O(xe,null,be(f.entrypointMask.images,(X,G)=>(x(),O("img",{key:G,ref_for:!0,ref:_e=>b[G]=_e,src:te(X).src,alt:te(X).alt,class:"StoryCanvasMobile-img"},null,8,Vt))),128))],8,jt),o("div",Ht,[o("div",Ut,[o("div",{ref_key:"poeticPaneRef",ref:r,class:"StoryPoetic-inner"},[o("div",Yt,[o("div",Xt,[l(_,{ref_key:"poeticTextRef1",ref:y},{default:p(()=>[d(c(t(u).zoom.text1),1)]),_:1},512)]),o("div",Zt,[(x(),O("svg",Jt,[o("path",{ref_key:"poeticLineRef1",ref:N,d:"M171.75 1L171.75 210"},null,512)]))])]),o("div",Kt,[l(_,{ref_key:"poeticTextRef2",ref:v},{default:p(()=>[d(c(t(u).zoom.text2),1)]),_:1},512)]),o("div",Qt,[o("div",eo,[(x(),O("svg",to,[o("path",{ref_key:"poeticLineRef2",ref:V,d:"M172 1C172 49.8595 147.623 81.7896 92.7013 132C31.3336 188.104 30 234.127 30 289"},null,512)]))]),o("div",{ref_key:"poeticScrollRef1",ref:a,class:"StoryPoetic-3b"},[l(_,{ref_key:"poeticTextRef3",ref:B},{default:p(()=>[d(c(t(u).zoom.text3),1)]),_:1},512)],512),o("div",oo,[l(_,{ref_key:"poeticTextRef4a",ref:F},{default:p(()=>[d(c(t(u).zoom.text4a),1)]),_:1},512)]),o("div",so,[l(_,{ref_key:"poeticTextRef4b",ref:R},{default:p(()=>[d(c(t(u).zoom.text4b),1)]),_:1},512)])]),o("div",no,[o("div",{ref_key:"poeticTextRef6",ref:D,class:"StoryPoetic-4a"},[l(_,{ref_key:"poeticTextRef5a",ref:T},{default:p(()=>[d(c(t(u).zoom.text5a),1)]),_:1},512)],512),o("div",lo,[l(_,{ref_key:"poeticTextRef5b",ref:L},{default:p(()=>[d(c(t(u).zoom.text5b),1)]),_:1},512),l(_,{ref_key:"poeticTextRef5c",ref:i},{default:p(()=>[d(c(t(u).zoom.text5c),1)]),_:1},512),l(_,{ref_key:"poeticTextRef5d",ref:n},{default:p(()=>[d(c(t(u).zoom.text5d),1)]),_:1},512),l(_,{ref_key:"poeticTextRef5e",ref:s},{default:p(()=>[d(c(t(u).zoom.text5e),1)]),_:1},512),l(_,{ref_key:"poeticTextRef5f",ref:g},{default:p(()=>[d(c(t(u).zoom.text5f),1)]),_:1},512)])]),o("div",{ref_key:"poeticScrollRef2",ref:C,class:"StoryPoetic-5"},[l(_,{ref_key:"poeticTextRef6",ref:D},{default:p(()=>[d(c(t(u).zoom.text6),1)]),_:1},512)],512),o("div",{ref_key:"dottedLineContainer",ref:oe,class:"StoryPoetic-6"},[(x(),O("svg",{class:"StoryPoetic-svg",viewBox:`0 0 ${t(ue)} ${t(fe)}`,fill:"none",xmlns:"http://www.w3.org/2000/svg"},[o("path",{mask:"url(#dotted-line-mask)",d:t(pe),"stroke-dasharray":"8 8"},null,8,ro),o("defs",null,[o("mask",io,[o("path",{ref_key:"poeticLineRef3Mask",ref:j,d:t(pe),stroke:"white",fill:"none","stroke-width":"5"},null,8,co)])])],8,ao))],512),o("div",uo,[o("span",fo,[l(_,{ref_key:"poeticTextRef7a",ref:E,direction:"fromTop"},{default:p(()=>[d(c(t(u).zoom.text7a),1)]),_:1},512)]),o("span",po,[l(_,{ref_key:"poeticTextRef7b",ref:I,direction:"fromTop"},{default:p(()=>[d(c(t(u).zoom.text7b),1)]),_:1},512),l(_,{ref_key:"poeticTextRef7c",ref:z,direction:"fromTop"},{default:p(()=>[d(c(t(u).zoom.text7c),1)]),_:1},512),l(_,{ref_key:"poeticTextRef7d",ref:A,direction:"fromTop"},{default:p(()=>[d(c(t(u).zoom.text7d),1)]),_:1},512),l(_,{ref_key:"poeticTextRef7e",ref:H,direction:"fromTop"},{default:p(()=>[d(c(t(u).zoom.text7e),1)]),_:1},512),l(_,{ref_key:"poeticTextRef7f",ref:U,direction:"fromTop"},{default:p(()=>[d(c(t(u).zoom.text7f),1)]),_:1},512)]),o("span",_o,[l(_,{ref_key:"poeticTextRef7g",ref:K,direction:"fromTop"},{default:p(()=>[d(c(t(u).zoom.text7g),1)]),_:1},512)]),o("span",yo,[l(_,{ref_key:"poeticTextRef7h",ref:P,direction:"fromTop"},{default:p(()=>[d(c(t(u).zoom.text7h),1)]),_:1},512)]),o("span",vo,[l(_,{ref_key:"poeticTextRef7i",ref:W,direction:"fromTop"},{default:p(()=>[d(c(t(u).zoom.text7i),1)]),_:1},512)])])],512)])])],512)],512),l(Ce,{"entrypoint-mask":f.entrypointMask},null,8,["entrypoint-mask"])],64)}}},go=me(mo,[["__scopeId","data-v-6a45ecfe"]]),Ro={__name:"StoryCanvasInstance",props:{isDesktop:{default:!0},storyCanvas:{type:Object,required:!0,default:()=>({_type:"",vueType:"",pageTitle:"",pageSlug:"",title:"",blockIndex:1,cascadeColor:J.DEFAULT})},entrypointMask:{type:Object,required:!0,default:()=>({_type:"",vueType:"",pageTitle:"",pageSlug:"",title:"",blockIndex:1,cascadeColor:J.DEFAULT})}},setup(f){const S=f,k=Fe("rive",.33,0,.3,1),{gsap:m}=Te(),$={zoom:{wh:1e3,top:0,pinRange:1,pinProgress:0},poetic:{scroll2:100,scroll3:200}};ye();const M=Ne(),w=e(null),b=e(null),h=e(0),r=q(()=>S.isDesktop?w.value:b.value);let a;function C(){if(a==null||a.kill(),!r.value)return;a=new m.timeline({paused:!0});const R="power3.inOut";a.add(()=>{},10);const T=r.value.poeticTextsConfig,L=r.value.poeticLinesConfig,i=r.value.imgConfig,n=r.value.scrollConfig,s=.4;m.set(i[0].el,{autoAlpha:1}),i.forEach((P,W)=>{const N=W===0,V=W===i.length-1,j=N?1:0;a.set(P.el,{autoAlpha:j},0),a.to(P.el,{autoAlpha:1,duration:s},P.time),V||a.set(P.el,{autoAlpha:0},i[W+1].time+.5)});const g=k,{scroll2:D,scroll3:E}=$.poetic;a.set(r.value.poeticPaneRef,{y:0},0);const I=2,z=4;a.to(r.value.poeticPaneRef,{y:0-D,duration:I,ease:g},n[0].time),a.to(r.value.poeticPaneRef,{y:0-E,duration:z,ease:g},n[1].time),T.forEach(P=>{a.set(P.el,{timelineProgress:0},0),a.to(P.el,{timelineProgress:1,duration:1.1,ease:R},P.time)}),L.forEach(P=>{m.set(P.el,{drawSVG:"0% 0%"}),a.set(P.el,{drawSVG:"0% 0%"},0),a.to(P.el,{drawSVG:"0% 100%",duration:1.1,ease:R},P.time)});const A=n[0].time,H=n[0].time+I,U=n[1].time,K=n[1].time+z;i.forEach((P,W)=>{var te;const N=P.time,V=((te=i[W+1])==null?void 0:te.time)+s||Number.MAX_SAFE_INTEGER,j=V>A&&N<H,Q=V>U&&N<K,Y=S.isDesktop?20:10,ee=Y*(E/D),ce=(j?Y:0)+(Q?ee:0);if(P.el.style.height=`${100+ce}lvh`,W===0&&(P.el.style.height="110lvh"),j&&a.to(P.el,{y:`-${Y}vh`,duration:I,ease:g},n[0].time),Q){const oe=Q&&j?Y+ee:ee;a.to(P.el,{y:`-${oe}vh`,duration:z,ease:g},n[1].time)}}),v(),y()}function y(){a==null||a.progress($.zoom.pinProgress)}function v(){var D;if(!((D=r.value)!=null&&D.zoomImgWrapRef))return;let{top:R,pinRange:T,wh:L}=$.zoom;const i=We.lvh,n=i*2.5;R-=M.scrollCurrent,$.zoom.pinProgress=ke(R,0,0-(T-n));const s=r.value.zoomImgWrapRef,g=R/i;if(g>-.7){const E=ke(g,0,1),I=ke(g,-.6,.9),z=1;let A=E*-i;A+=qe(I)*i*.5,s.style.translate=`0px ${A}px`,s.style.scale=`${z}`,s.setAttribute("data-nav-color",Z.BEIGE),s.style.clipPath="inset(-10% 0% 0% 0%)",s.style.contain="unset",r.value.poeticPaneRef.style.opacity=1,h.value=0}else{const E=r.value.outroRef,I=E==null?void 0:E.outroImgProxyRef;let z=I==null?void 0:I.getBoundingClientRect();z=z||{width:100,height:100};const A=r.value.zoomPinRef.getBoundingClientRect(),H=z.width/z.height,U=A.width/A.height,K=z.height/A.height,P=z.width/A.width,W=ke(R,0-(T-n),0-T),N=Pe(W,0,.75),V=Pe(W,.45,.9),j=H<U?K:P,Q=he(N,1,j),Y=he(N,0,Math.max(1-H/U,0)*50),ee=he(N,0,Math.max(1-U/H,0)*50),ce=he(N,0,(A.height-A.height*K)*.5+(A.top-z.top));B(N),s.style.translate=`0px -${ce}px`,s.style.scale=`${Q}`,s.style.clipPath=`inset(${ee}% ${Y}% ${ee}% ${Y}%)`,s.style.contain="content",s.setAttribute("data-nav-color",N>.8?Z.BROWN:Z.BEIGE),r.value.poeticPaneRef.style.opacity=he(Pe(N,0,.2),1,0),h.value=ke(V,0,1)}}function B(R){const T=r.value.maskImgRefs,L=3;if(!S.isDesktop)m.set(T[0],{autoAlpha:R*L}),m.set(T[T.length-1],{autoAlpha:(R-.5)*L});else{const i=R*T.length,n=i-Math.floor(i),s=Math.floor(i);s>0&&m.set(T[s-1],{autoAlpha:1}),s<T.length&&m.set(T[s],{autoAlpha:n*L});for(let g=s+1;g<T.length;g++)m.set(T[g],{autoAlpha:0})}}function F(){var R;if((R=r.value)!=null&&R.zoomRef){const T=M.scrollCurrent||0,L=r.value.zoomRef.getBoundingClientRect(),i=r.value.zoomPinRef.getBoundingClientRect();$.zoom.top=L.top+T,$.zoom.pinRange=L.height-i.height,$.zoom.wh=window.innerHeight;const n=r.value.poeticPaneRef.getBoundingClientRect().top;$.poetic.scroll2=r.value.poeticScrollRef1.getBoundingClientRect().top-n,$.poetic.scroll3=r.value.poeticScrollRef2.getBoundingClientRect().top-n}}return Se(()=>M.scrollCurrent,()=>{v(),y()}),$e(()=>{F(),C()}),re(()=>{setTimeout(()=>{F(),C(),v(),y()},50)}),ie(()=>{a==null||a.kill()}),(R,T)=>{const L=go,i=Lt;return f.isDesktop?(x(),se(i,{key:1,ref_key:"desktopRef",ref:w,"entrypoint-mask":f.entrypointMask,"story-canvas":f.storyCanvas,"outro-progress":t(h)},null,8,["entrypoint-mask","story-canvas","outro-progress"])):(x(),se(L,{key:0,ref_key:"mobileRef",ref:b,"entrypoint-mask":f.entrypointMask,"story-canvas":f.storyCanvas,"outro-progress":t(h)},null,8,["entrypoint-mask","story-canvas","outro-progress"]))}}},ko={__name:"StoryCanvas",props:{storyCanvas:{type:Object,required:!0,default:()=>({_type:"",vueType:"",pageTitle:"",pageSlug:"",title:"",blockIndex:1,cascadeColor:J.DEFAULT})},entrypointMask:{type:Object,required:!0,default:()=>({_type:"",vueType:"",pageTitle:"",pageSlug:"",title:"",blockIndex:1,cascadeColor:J.DEFAULT})}},setup(f){const S=ye(),{isPhoneBreakpoint:k}=Ie(S);return(m,$)=>{const M=Ro;return t(k)?(x(),se(M,{key:0,"is-desktop":!1,"entrypoint-mask":f.entrypointMask,"story-canvas":f.storyCanvas},null,8,["entrypoint-mask","story-canvas"])):(x(),se(M,{key:1,"is-desktop":!0,"entrypoint-mask":f.entrypointMask,"story-canvas":f.storyCanvas},null,8,["entrypoint-mask","story-canvas"]))}}},ho={class:"home"},xo={key:0},To={__name:"index",setup(f){const S=je(),k=ge(),m=e(null),$=e(),M=e(null),w=e(null),b=e(null),h=e(null),r=e(null),a=e(null),C=e(!1),y=e(!1),v=e(!1),B=e("Home");let F;Ge(q(()=>({title:B.value,meta:m.value?k.getMeta(m.value):[],link:k.getMetaLinks(m.value)})));async function R(){var n,s;$.value=!1;const i=await k.getPage(!1,"home");i._type&&(m.value=i,B.value=i.title,k.pageType=(n=m.value)==null?void 0:n._type,T((s=m.value)==null?void 0:s.components))}function T(i){i&&(M.value=i.find(n=>n._type==="heroVideo"),h.value=i.find(n=>n._type==="entrypointChain"),r.value=i.find(n=>n._type==="bannerFullbleed"),w.value=i.find(n=>n._type==="storyCanvas"),b.value=i.find(n=>n._type==="entrypointMask"),a.value=i.find(n=>n._type==="imageCTAGrid"))}function L({vueType:i="",blockIndex:n=100,loaded:s=!1}){s&&n===0&&(C.value=!0)}return Se(()=>C.value&&y.value,i=>{i&&(S.setIsLoaderVisible(!1),v.value=!0)}),re(async()=>{y.value=!0,S.setIsLoaderVisible(!0),await R(),F=setTimeout(()=>{v.value||(S.setIsLoaderVisible(!1),v.value=!0)},2e4)}),Ve(async()=>{await R()}),ie(()=>{y.value=!1,clearTimeout(F)}),(i,n)=>{const s=He,g=ko,D=Ue,E=Ye,I=Xe,z=Ze;return x(),O("div",ho,[t(m)?(x(),O("div",xo,[t(M)?(x(),se(s,{key:0,block:t(M),"data-nav-color":t(Z).BEIGE,onLoaded:L},null,8,["block","data-nav-color"])):ae("",!0),t(w)&&t(b)?(x(),se(g,{key:1,"entrypoint-mask":t(b),"story-canvas":t(w)},null,8,["entrypoint-mask","story-canvas"])):ae("",!0),t(h)?(x(),se(D,{key:2,block:t(h),"data-nav-color":t(Z).BROWN},null,8,["block","data-nav-color"])):ae("",!0),t(r)?(x(),se(E,{key:3,block:t(r),"data-nav-color":t(Z).BEIGE},null,8,["block","data-nav-color"])):ae("",!0),t(a)?(x(),se(I,{key:4,block:t(a),"data-nav-color":t(Z).BROWN},null,8,["block","data-nav-color"])):ae("",!0),l(z)])):ae("",!0)])}}},bo=me(To,[["__scopeId","data-v-52d9190d"]]);export{bo as default};
